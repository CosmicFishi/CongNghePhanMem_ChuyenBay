{% extends 'layout.html' %} {% block body %}

<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Time</th>
                <th scope="col">Duration</th>
                {% for i in seat[0] %}
                <th scope="col">{{i.seat_name}}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for i in flights %}
            <tr>
                <th scope="row">
                    <p>
                        <strong>{{i.time_to_start}}</strong> to
                        <strong>{{i.time_end}}</strong>
                    </p>
                    <p>Flight Id: {{i.id}}</p>
                    <p>Plane Id: {{i.plane_id}}</p>
                </th>
                <td>
                    <p>Total time: {{i.total_flight_time}}</p>
                    {% if inter_airport %} {% for d in inter_airport[i.index] %}
                    <p>
                        Delay {{d.intermediate_airport.delay}} at {{
                        d.airport.airport_name }}
                    </p>
                    {% endfor %} {% else %}
                    <p>Non stop</p>
                    {% endif %}
                </td>
                {% for s in seat[i.index] %}
                <td>
                    <button type="button" onclick="addTicket()" class="btn btn-primary">
                        <h3 class="px-5 py-2">{{s.price}}</h3>
                    </button>
                    <p class="font-italic">{{s.left}} seats left</p>
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
